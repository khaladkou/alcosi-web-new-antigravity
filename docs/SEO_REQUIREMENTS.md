# SEO требования (технические) — обязательная спецификация

Документ фиксирует **обязательные SEO‑требования** для нового проекта.  
Формат: MUST/SHOULD — правила, которые агент разработки обязан соблюдать.

---

## 1) Главные принципы

1. **Контент страницы MUST быть доступен в HTML на первом ответе** (SSR/SSG/ISR) для:
   - маркетинговых страниц,
   - страниц блога,
   - страниц портфолио/сервисов.
2. Клиентский рендеринг (CSR) допустим только для:
   - второстепенной интерактивности,
   - анимаций,
   - UI элементов, которые не являются основным индексируемым контентом.

---

## 2) URL стратегия и совместимость

### 2.1 Каноничность URL
- Для каждой сущности (страница, статья, язык) MUST существовать **ровно один канонический URL**.
- MUST избегать дублей из-за:
  - `www` vs non‑`www`,
  - `http` vs `https`,
  - trailing slash,
  - дублирующих префиксов,
  - query‑параметров трекинга.

### 2.2 Редиректы
- Все устаревшие URL MUST вести на новый канонический URL через **permanent redirect** (301/308).
- MUST НЕ быть цепочек редиректов (redirect chain).
- MUST НЕ быть редиректов на 404.

### 2.3 Структура языковых URL
- Каждый язык MUST иметь уникальный URL (например: `/{locale}/...`).
- MUST реализовать корректный механизм переключения языка “на той же странице”.
- Авто‑редирект по языку браузера SHOULD быть аккуратным (не ломать индексирование; желательно только для first‑time users).

---

## 3) Метаданные и head

### 3.1 Title и Description
- Каждая индексируемая страница MUST иметь:
  - уникальный `<title>`,
  - уникальный `<meta name="description">`.
- Title/description MUST быть локализованы по языкам.
- “Шаблонные” одинаковые мета‑описания MUST избегаться.

### 3.2 OpenGraph / Twitter
- Страницы SHOULD иметь OG‑мета:
  - `og:title`, `og:description`, `og:url`, `og:image`, `og:type`.
- Для статей блога SHOULD быть `og:type=article`.
- Twitter card SHOULD присутствовать.

### 3.3 Canonical
- Каждая индексируемая страница MUST иметь `<link rel="canonical" href="...">`.
- Canonical MUST указывать на канонический URL (с правильным языком/форматом).

### 3.4 Hreflang
- Для мультиязычных страниц MUST быть набор `<link rel="alternate" hreflang="...">` для всех языков.
- MUST быть `hreflang="x-default"` на дефолтный вариант, если применяется.

---

## 4) Sitemap.xml

### 4.1 Состав
- Sitemap MUST включать:
  - все публичные маркетинговые страницы,
  - все публичные статьи блога (published),
  - все языковые версии URL.
- Для каждой записи SHOULD быть `lastmod`.

### 4.2 Актуальность
- Sitemap MUST обновляться автоматически при:
  - публикации/обновлении статьи,
  - изменении доступных языков,
  - существенных изменениях структуры URL.

### 4.3 Масштабирование
- Если URL > 50 000 — MUST использовать sitemap index и разбиение на несколько sitemap.

---

## 5) Robots.txt

- `/robots.txt` MUST быть доступен всегда и содержать:
  - разрешение индексации публичных страниц,
  - запрет индексации служебных зон:
    - `/admin/`
    - `/api/` (как минимум запрет индексации, даже если доступно)
  - ссылку на sitemap:
    - `Sitemap: https://<domain>/sitemap.xml`

---

## 6) Индексация служебных страниц

- Страницы админки MUST быть:
  - закрыты от индексации (robots + `noindex`),
  - защищены авторизацией.
- Технические/служебные страницы типа “Спасибо за заявку” SHOULD быть `noindex` (в зависимости от UX).
- API endpoints MUST НЕ индексироваться.

---

## 7) Структурированные данные (Schema.org)

### 7.1 Обязательные схемы
- Главная/маркетинг: `Organization` и/или `WebSite`.
- Блог‑пост: `Article` (или `BlogPosting`) MUST содержать:
  - headline,
  - datePublished (и dateModified при наличии),
  - author/organization,
  - image (если есть),
  - mainEntityOfPage.

### 7.2 Breadcrumbs
- Для статей и разделов SHOULD добавить `BreadcrumbList`.

---

## 8) Производительность (Core Web Vitals)

### 8.1 Цели
- LCP SHOULD быть < 2.5s (мобайл)
- INP SHOULD быть < 200ms
- CLS SHOULD быть < 0.1
- TTFB SHOULD быть минимальным; при SSR/ISR настроить кеширование.

### 8.2 Практики
- Изображения MUST быть оптимизированы:
  - корректные размеры,
  - lazy loading,
  - modern formats при возможности.
- Код MUST быть разбит на чанки; тяжелые библиотеки — только где нужно.
- Критический контент страницы MUST не блокироваться долгими запросами на клиенте.

---

## 9) Контентные требования для SEO (минимальные)

- На каждой странице MUST быть ровно один `<h1>`.
- Заголовки MUST быть иерархичными (h2/h3 и т.д.).
- Изображения MUST иметь `alt` (локализованный по возможности).
- Внутренняя перелинковка SHOULD быть:
  - из меню/футера,
  - из статей на релевантные страницы услуг/кейсов.

---

## 10) Техническая гигиена SEO

- MUST настроить корректные HTTP статусы:
  - 200 для существующих страниц,
  - 404/410 для отсутствующих,
  - 301/308 для переездов.
- MUST отсутствовать mixed content (только HTTPS).
- MUST настроить единый домен (www или non‑www) и принудительный редирект.
- SHOULD настроить security headers (не ломая индексацию):
  - `Content-Security-Policy` (аккуратно),
  - `Referrer-Policy`,
  - `Permissions-Policy`,
  - `X-Content-Type-Options`.

---

## 11) Проверка и приёмка (Definition of Done для SEO)

Перед релизом в production MUST быть выполнено:
1. Проверка view-source: основной контент и мета присутствуют в HTML.
2. Sitemap валиден и содержит все публичные URL по языкам.
3. robots.txt валиден и ссылается на sitemap.
4. Нет redirect chain, нет broken links.
5. Lighthouse (SEO + Performance) на ключевых страницах проходит пороги.
6. Hreflang/canonical корректны и не конфликтуют.
7. Служебные страницы не индексируются.
